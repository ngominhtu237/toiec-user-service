module.exports = function (defaults) {
  var d = defaults || {};

  return function (req, res, next) {
    if (!req.options) req.options = {};

    req.options.limit = parseInt(req.query.limit, 10) || parseInt(d.limit, 10) || 10;
    req.options.skip = parseInt(req.query.offset, 10) || 0;

    next();
  };
};
